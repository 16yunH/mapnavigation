{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\n//引入依赖，你也可以在main.js中做全局依赖引入\nimport 'leaflet/dist/leaflet.css';\nimport L from \"leaflet\";\nexport default {\n  data() {\n    return {};\n  },\n  mounted() {\n    this.initMap();\n  },\n  methods: {\n    initMap(lat = 25.822549, lng = 98.857601) {\n      // 创建地图实例，将其绑定到 id 参数为 \"map\" 的 DOM 元素上※\n      this.map = L.map(\"editTMap\");\n      // 使用 setView() 方法设置地图中心点坐标（维度，经度）和初始缩放级别※\n      this.map.setView([lat, lng], 14);\n      // 创建 Stamen 图层，并添加到地图上※\n      var stamenLayer = L.tileLayer('http://localhost:8080/{z}/{x}/{y}.jpg', {\n        attribution: '坐标标点',\n        // 图层属性信息※\n        minZoom: 12,\n        // 最小缩放级别※\n        maxZoom: 18 // 最大缩放级别※\n      }).addTo(this.map);\n\n      //标点\n      this.markerLayer = L.marker([lat, lng], {\n        //详细说明可参考https://leafletjs.cn/reference.html#icon 官方文档（此处设置可以防止地图放大缩小后，定位出现偏移）\n        icon: new L.Icon({\n          className: \"lmap-icon\",\n          iconUrl: require('@/assets/mapofgx.osm'),\n          //坐标图标（仿照腾讯地图坐标标点，可去阿里图标库下载）\n          iconSize: [40, 40],\n          //图标大小\n          iconAnchor: [20, 40],\n          //位移，原点是左上角。X正轴右侧，Y正是下侧\n          popupAnchor: [-3, -76],\n          //弹出窗口（popup）的坐标，相对于图标锚点而言，将从该点打开。\n          shadowSize: [68, 95],\n          //阴影图像的大小，单位是像素。\n          shadowAnchor: [22, 94] //阴影 \"tip\" 的坐标（相对于其左上角）（如果没有指定，则与iconAnchor相同）。\n        })\n      }).addTo(this.map);\n\n      //监听坐标变化\n      this.map.on(\"click\", evt => {\n        console.log(evt.latlng);\n        console.log(\"lgtd\", evt.latlng.lat);\n        console.log(\"lttd\", evt.latlng.lng);\n\n        //修改坐标位置\n        this.markerLayer.setLatLng(evt.latlng);\n      });\n    }\n  }\n};","map":{"version":3,"names":["L","data","mounted","initMap","methods","lat","lng","map","setView","stamenLayer","tileLayer","attribution","minZoom","maxZoom","addTo","markerLayer","marker","icon","Icon","className","iconUrl","require","iconSize","iconAnchor","popupAnchor","shadowSize","shadowAnchor","on","evt","console","log","latlng","setLatLng"],"sources":["D:\\3.code\\CLionProjects\\mapnavifrontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"editTMap\" class=\"main_map\"></div>\n</template>\n\n<script>\n//引入依赖，你也可以在main.js中做全局依赖引入\nimport 'leaflet/dist/leaflet.css';\nimport L from \"leaflet\";\n\nexport default {\n\n  data() {\n    return {\n    };\n  },\n\n  mounted() { this.initMap()},\n  methods: {\n\n    initMap(lat = 25.822549, lng = 98.857601) {\n      // 创建地图实例，将其绑定到 id 参数为 \"map\" 的 DOM 元素上※\n      this.map = L.map(\"editTMap\");\n      // 使用 setView() 方法设置地图中心点坐标（维度，经度）和初始缩放级别※\n      this.map.setView([lat, lng], 14);\n      // 创建 Stamen 图层，并添加到地图上※\n      var stamenLayer = L.tileLayer('http://localhost:8080/{z}/{x}/{y}.jpg', {\n        attribution: '坐标标点', // 图层属性信息※\n        minZoom: 12, // 最小缩放级别※\n        maxZoom: 18 // 最大缩放级别※\n      }).addTo(this.map)\n\n      //标点\n      this.markerLayer=L.marker([lat, lng], {\n        //详细说明可参考https://leafletjs.cn/reference.html#icon 官方文档（此处设置可以防止地图放大缩小后，定位出现偏移）\n        icon: new L.Icon({\n          className: \"lmap-icon\",\n          iconUrl: require('@/assets/mapofgx.osm'), //坐标图标（仿照腾讯地图坐标标点，可去阿里图标库下载）\n          iconSize: [40, 40], //图标大小\n          iconAnchor: [20, 40], //位移，原点是左上角。X正轴右侧，Y正是下侧\n          popupAnchor: [-3, -76], //弹出窗口（popup）的坐标，相对于图标锚点而言，将从该点打开。\n          shadowSize: [68, 95],//阴影图像的大小，单位是像素。\n          shadowAnchor: [22, 94]//阴影 \"tip\" 的坐标（相对于其左上角）（如果没有指定，则与iconAnchor相同）。\n        })\n      }).addTo(this.map);\n\n      //监听坐标变化\n      this.map.on(\"click\", (evt) => {\n        console.log(evt.latlng)\n\n        console.log(\"lgtd\",evt.latlng.lat)\n        console.log(\"lttd\", evt.latlng.lng)\n\n        //修改坐标位置\n        this.markerLayer.setLatLng(evt.latlng)\n      });\n    },\n\n\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/* 设置地图容器的高度和宽度 */\n.main_map {\n  height: calc(100vh - 50px) !important;\n  width: 100%;\n}\n</style>\n\n"],"mappings":";AAKA;AACA,OAAO,0BAA0B;AACjC,OAAOA,CAAA,MAAO,SAAS;AAEvB,eAAe;EAEbC,IAAIA,CAAA,EAAG;IACL,OAAO,CACP,CAAC;EACH,CAAC;EAEDC,OAAOA,CAAA,EAAG;IAAE,IAAI,CAACC,OAAO,CAAC,CAAC;EAAA,CAAC;EAC3BC,OAAO,EAAE;IAEPD,OAAOA,CAACE,GAAE,GAAI,SAAS,EAAEC,GAAE,GAAI,SAAS,EAAE;MACxC;MACA,IAAI,CAACC,GAAE,GAAIP,CAAC,CAACO,GAAG,CAAC,UAAU,CAAC;MAC5B;MACA,IAAI,CAACA,GAAG,CAACC,OAAO,CAAC,CAACH,GAAG,EAAEC,GAAG,CAAC,EAAE,EAAE,CAAC;MAChC;MACA,IAAIG,WAAU,GAAIT,CAAC,CAACU,SAAS,CAAC,uCAAuC,EAAE;QACrEC,WAAW,EAAE,MAAM;QAAE;QACrBC,OAAO,EAAE,EAAE;QAAE;QACbC,OAAO,EAAE,EAAC,CAAE;MACd,CAAC,CAAC,CAACC,KAAK,CAAC,IAAI,CAACP,GAAG;;MAEjB;MACA,IAAI,CAACQ,WAAW,GAACf,CAAC,CAACgB,MAAM,CAAC,CAACX,GAAG,EAAEC,GAAG,CAAC,EAAE;QACpC;QACAW,IAAI,EAAE,IAAIjB,CAAC,CAACkB,IAAI,CAAC;UACfC,SAAS,EAAE,WAAW;UACtBC,OAAO,EAAEC,OAAO,CAAC,sBAAsB,CAAC;UAAE;UAC1CC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;UAAE;UACpBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;UAAE;UACtBC,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;UAAE;UACxBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;UAAC;UACrBC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;QACxB,CAAC;MACH,CAAC,CAAC,CAACZ,KAAK,CAAC,IAAI,CAACP,GAAG,CAAC;;MAElB;MACA,IAAI,CAACA,GAAG,CAACoB,EAAE,CAAC,OAAO,EAAGC,GAAG,IAAK;QAC5BC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,MAAM;QAEtBF,OAAO,CAACC,GAAG,CAAC,MAAM,EAACF,GAAG,CAACG,MAAM,CAAC1B,GAAG;QACjCwB,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEF,GAAG,CAACG,MAAM,CAACzB,GAAG;;QAElC;QACA,IAAI,CAACS,WAAW,CAACiB,SAAS,CAACJ,GAAG,CAACG,MAAM;MACvC,CAAC,CAAC;IACJ;EAGF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}